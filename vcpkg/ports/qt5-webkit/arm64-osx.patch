--- ./Source/JavaScriptCore/assembler/ARM64Assembler.h.orig	2022-12-30 16:08:07.402011556 +1000
+++ ./Source/JavaScriptCore/assembler/ARM64Assembler.h	2022-12-30 17:01:36.035938629 +1000
@@ -34,6 +34,7 @@
 #include <wtf/Assertions.h>
 #include <wtf/Vector.h>
 #include <stdint.h>
+#include <libkern/OSCacheControl.h>
 
 #define CHECK_DATASIZE_OF(datasize) ASSERT(datasize == 32 || datasize == 64)
 #define DATASIZE_OF(datasize) ((datasize == 64) ? Datasize_64 : Datasize_32)
@@ -2664,7 +2665,7 @@
 
     static void cacheFlush(void* code, size_t size)
     {
-#if OS(IOS)
+#if OS(DARWIN)
         sys_cache_control(kCacheFunctionPrepareForExecution, code, size);
 #elif OS(LINUX)
         size_t page = pageSize();
--- ./Source/JavaScriptCore/jsc.cpp	2020-03-05 03:16:37.000000000 +1000
+++ ./Source/JavaScriptCore/jsc.cpp	2020-09-22 21:30:04.000000000 +1000
@@ -189,7 +189,7 @@
 
 class ElementHandleOwner : public WeakHandleOwner {
 public:
-    bool isReachableFromOpaqueRoots(Handle<JSC::Unknown> handle, void*, SlotVisitor& visitor) override
+    bool isReachableFromOpaqueRoots(JSC::Handle<JSC::Unknown> handle, void*, SlotVisitor& visitor) override
     {
         Element* element = jsCast<Element*>(handle.slot()->asCell());
         return visitor.containsOpaqueRoot(element->root());
